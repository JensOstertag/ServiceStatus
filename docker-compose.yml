version: "3"

volumes:
    database:
        driver: "local"

networks:
    app:

services:
    database:
        image: "mysql:8.2"
        restart: "always"
        environment:
            MYSQL_ROOT_PASSWORD: "root" # ADJUST
            MYSQL_DATABASE: "framework-app" # ADJUST
            MYSQL_USER: "framework-app" # ADJUST
            MYSQL_PASSWORD: "framework-app" # ADJUST
        volumes:
            - "database:/var/lib/mysql"
        networks:
            - "app"

    app:
        image: "ghcr.io/jensostertag/php-framework:latest" # ADJUST
        restart: "always"
        volumes:
            - "./secrets:/app/secrets"
        ports:
            - "80:80"
        networks:
            - "app"
